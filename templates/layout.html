<!-- prettier-ignore -->
{% load static tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
  {% tailwind_css %}
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}social network{% endblock %}</title>
  </head>
  <body class="min-h-screen bg-yellow-50">
    <nav class="fixed top-0 w-full h-18 bg-white shadow-md">
      <div
        class="flex items-center justify-between mx-5 font-bold rounded-3xl p-5"
      >
        <div class="flex justify-between items-center gap-4">
          <img
            class="h-10 w-10 rounded-full object-cover"
            src="{{user.profile.profilePicture.url}}"
            alt=""
          />
          <div class="nav-title text-3xl font-bold">TweetIn</div>
        </div>
        <div
          class="nav-list flex flex-row justify-between gap-5 items-center mx-10"
        >
          <a href="{{url}}" class="btn rounded-2xl text-red-800">Home</a>

          {% if user.is_authenticated %}
          <form method="POST" action="{% url 'logout' %}">
            {% csrf_token %}
            <button>Logout</button>
          </form>

          {% else %}
          <a href="{% url 'login' %}">Login</a>
          <a href="{% url 'register' %}">Register</a>

          {% endif %}
        </div>
      </div>
    </nav>

    <div
      id="main-content"
      class="main-content flex justify-between p-3 ml-7 mr-7 mt-15"
    >
      <div class="left w-1/3 text-black rounded-3xl p-3 max-w-100 ml-12">
        <div class="profile-card bg-gray-200 h-150 rounded-3xl p-5 mt-1">
          {% if user.is_authenticated %}
          <div class="edit-profile flex justify-end mb-3">
            <a
              href="{% url 'update-profile' %}"
              class="justify-end flex mb-2 font-semibold text-sm"
              >Edit Profile<img
                src="{% static 'icons/edit-icon.png' %}"
                alt=""
                class="h-3 w-3 ml-1 mt-1"
            /></a>
          </div>
          <div class="profile-picture flex justify-center mb-0">
            <img
              id="profile_image"
              class="w-24 h-24 rounded-full object-cover"
              src="{{user.profile.profilePicture.url}}"
              alt="User DP"
            />
            <input
              type="file"
              id="profile-picture"
              accept="image/*"
              style="display: none"
            />
          </div>
          <div
            class="username flex justify-center text-center font-bold text-xl mb-3"
          >
            @{{user.username}}
          </div>
          <div class="flex justify-center useremail text-center font-bold mt-1">
            {{user.email}}
          </div>
          <div
            class="dob text-center text-sm font-bold mt-2 bg-gray-100 p-1 rounded-2xl"
          >
            DOB - {{user.profile.dateOfBirth}}
          </div>
          <div class="bio text-center text-sm mt-2">{{user.profile.bio}}</div>
          {% else %}
          <div class="text-center font-bold">Welcome, Guest!</div>
          {% endif %}
        </div>
      </div>
      <div class="right w-2/3 p-5 mt-1">{% block content %} {% endblock %}</div>
    </div>
  </body>
</html>
