<!-- prettier-ignore -->
{% load static tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
  {% tailwind_css %}
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile Update</title>
  </head>
  <body class="bg-gray-200 p-10 flex items-center justify-center">
    <form
      method="POST"
      action=""
      enctype="multipart/form-data"
      class="bg-red-200 h-120 min-h-100 w-100 rounded-3xl flex flex-col items-center p-10 gap-5"
    >
      {% csrf_token %}

      <div>
        <img
          id="output_image"
          src="{{form.profilePicture.value.url}}"
          alt=""
          class="w-32 h-32 rounded-full object-cover border-2 border-white"
        />
        <input
          id="profilePicture"
          type="file"
          name="profilePicture"
          accept="image/*"
          onchange="display_picture(event)"
          class="hidden"
        />
        <label
          for="profilePicture"
          class="cursor-pointer text-blue-500 mt-0 p-0"
          >Change Profile Picture</label
        >
      </div>

      <div class="flex flex-col w-80">
        <label for="{{form.dateOfBirth.id_for_label.dateOfBirth.label}}"
          >{{form.dateOfBirth.label}}</label
        >
        <input type="date" for="{{form.dateOfBirth.id_for_label}}"
        name="dateOfBirth" value="{{form.dateOfBirth.value}}" class="rounded-2xl
        p-2 border-1 border-gray-400 mb-1 w-full text-sm"/ >
      </div>

      <button type="submit">Update Profile</button>
    </form>

    <script>
      function display_picture(e) {
        e.preventDefault();
        const reader = new FileReader();
        reader.onload = function () {
          const output = document.getElementById("output_image");
          output.src = reader.result;
        };
        reader.readAsDataURL(e.target.files[0]);
      }
    </script>
  </body>
</html>
